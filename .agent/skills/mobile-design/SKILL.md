---
name: mobile-design
description: Mobile UI/UX patterns for iOS and Android. Touch-first, platform-respectful design with React Native/Expo focus.
version: 1.0.0
allowed-tools: Read, Glob, Grep
---

# Mobile Design System

> **Philosophy:** Touch-first. Battery-conscious. Platform-respectful. Offline-capable.
> **Core Principle:** Mobile is NOT a small desktop. THINK mobile constraints, ASK platform choice.

---

## âš ï¸ CRITICAL: ASK BEFORE ASSUMING

### You MUST Ask If Not Specified:

- **Platform**: iOS only? Android only? Both?
- **Framework**: React Native/Expo? Flutter?
- **Navigation**: Tab-based? Stack? Drawer?
- **Offline**: Required? Nice-to-have? Not needed?

---

## ğŸ“± Platform Decision Matrix

### When to Unify vs Diverge

```
                    UNIFY (same on both)          DIVERGE (platform-specific)
                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Business Logic      âœ… Always                     -
Data Layer          âœ… Always                     -
Core Features       âœ… Always                     -

Navigation          -                             âœ… iOS: edge swipe, Android: back button
Gestures            -                             âœ… Platform-native feel
Icons               -                             âœ… SF Symbols vs Material Icons
Date Pickers        -                             âœ… Native pickers feel right
Modals/Sheets       -                             âœ… iOS: bottom sheet vs Android: dialog
Typography          -                             âœ… SF Pro vs Roboto (or custom)
```

### Quick Reference: Platform Defaults

| Element              | iOS                       | Android                    |
| -------------------- | ------------------------- | -------------------------- |
| **Primary Font**     | SF Pro / SF Compact       | Roboto                     |
| **Min Touch Target** | 44pt Ã— 44pt               | 48dp Ã— 48dp                |
| **Back Navigation**  | Edge swipe left           | System back button/gesture |
| **Bottom Tab Icons** | SF Symbols                | Material Symbols           |
| **Action Sheet**     | UIActionSheet from bottom | Bottom Sheet / Dialog      |
| **Progress**         | Spinner                   | Linear progress (Material) |

---

## ğŸ§  Mobile UX Psychology

### Fitts' Law for Touch

```
Desktop: Cursor is precise (1px)
Mobile:  Finger is imprecise (~7mm contact area)

â†’ Touch targets MUST be 44-48px minimum
â†’ Important actions in THUMB ZONE (bottom of screen)
â†’ Destructive actions AWAY from easy reach
```

### Thumb Zone (One-Handed Usage)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      HARD TO REACH          â”‚ â† Navigation, menu, back
â”‚        (stretch)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      OK TO REACH            â”‚ â† Secondary actions
â”‚       (natural)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      EASY TO REACH          â”‚ â† PRIMARY CTAs, tab bar
â”‚    (thumb's natural arc)    â”‚ â† Main content interaction
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        [  HOME  ]
```

### Mobile-Specific Cognitive Load

| Desktop            | Mobile Difference              |
| ------------------ | ------------------------------ |
| Multiple windows   | ONE task at a time             |
| Keyboard shortcuts | Touch gestures                 |
| Hover states       | NO hover (tap or nothing)      |
| Large viewport     | Limited space, scroll vertical |
| Stable attention   | Interrupted constantly         |

---

## âš¡ React Native/Expo Performance

### FlatList Optimization

```typescript
// âœ… CORRECT: Memoized renderItem + React.memo wrapper
const ListItem = React.memo(({ item }: { item: Item }) => (
  <View style={styles.item}>
    <Text>{item.title}</Text>
  </View>
));

const renderItem = useCallback(
  ({ item }: { item: Item }) => <ListItem item={item} />,
  []
);

// âœ… CORRECT: FlatList with all optimizations
<FlatList
  data={items}
  renderItem={renderItem}
  keyExtractor={(item) => item.id}  // Stable ID, NOT index
  getItemLayout={(data, index) => ({
    length: ITEM_HEIGHT,
    offset: ITEM_HEIGHT * index,
    index,
  })}
  removeClippedSubviews={true}
  maxToRenderPerBatch={10}
  windowSize={5}
/>
```

### Animation Performance

```
GPU-accelerated (FAST):     CPU-bound (SLOW):
â”œâ”€â”€ transform               â”œâ”€â”€ width, height
â”œâ”€â”€ opacity                 â”œâ”€â”€ top, left, right, bottom
â””â”€â”€ (use these ONLY)        â”œâ”€â”€ margin, padding
                            â””â”€â”€ (AVOID animating these)
```

---

## ğŸ“ Pre-Development Checklist

### Before Starting ANY Mobile Project

- [ ] Platform(s) confirmed (iOS/Android/Both)
- [ ] Framework chosen (Expo preferred for BeSync)
- [ ] Navigation pattern decided
- [ ] Offline requirements clarified
- [ ] Design system tokens defined

### Before Every Screen

- [ ] Touch targets â‰¥ 44pt
- [ ] Primary actions in thumb zone
- [ ] Safe area insets handled
- [ ] Both orientations considered (or locked)

### Before Release

- [ ] Performance profiled
- [ ] Memory usage checked
- [ ] Battery impact tested
- [ ] Accessibility verified

---

## ğŸ”— BeSync Mobile Stack

| Layer      | Technology                       |
| ---------- | -------------------------------- |
| Framework  | Expo (managed workflow)          |
| Navigation | Expo Router                      |
| State      | Zustand + React Query            |
| Storage    | expo-secure-store + AsyncStorage |
| UI         | Custom + NativeWind (if needed)  |

---

## âŒ Mobile Anti-Patterns

| âŒ Don't                    | âœ… Do                     |
| --------------------------- | ------------------------- |
| Assume platform conventions | Ask or detect platform    |
| Use web-style hover states  | Use pressable feedback    |
| Put CTAs at top of screen   | Keep CTAs in thumb zone   |
| Use tiny touch targets      | Minimum 44-48px           |
| Ignore safe areas           | Always respect insets     |
| Over-animate                | Subtle, purposeful motion |
